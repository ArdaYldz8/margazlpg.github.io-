<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Margaz Kontrol Sistemi - Tank Ä°zleme</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!--
        MARGAZ KONTROL SÄ°STEMÄ° - FRONTEND ARAYÃœZÃœ

        Bu sayfa gaz tankÄ± seviyesini gÃ¶rsel olarak gÃ¶sterir.
        WebSocket Ã¼zerinden backend'den gelen verileri gerÃ§ek zamanlÄ± olarak gÃ¼nceller.

        SUNUM Ä°Ã‡Ä°N Ã–NEMLÄ°:
        - Bu arayÃ¼z herhangi bir cihazdan (PC, tablet, telefon) eriÅŸilebilir
        - Sayfa yenilemeye gerek yok, veriler otomatik gÃ¼ncellenir
        - Tank gÃ¶stergesi gerÃ§ek zamanlÄ± olarak dolar/boÅŸalÄ±r
        - Alarm durumunda ekran kÄ±rmÄ±zÄ±ya dÃ¶ner ve uyarÄ± gÃ¶sterilir
    -->

    <div class="container">
        <!-- BaÅŸlÄ±k BÃ¶lÃ¼mÃ¼ -->
        <header class="header">
            <div class="logo">
                <svg width="50" height="50" viewBox="0 0 50 50">
                    <circle cx="25" cy="25" r="20" fill="#2c3e50" stroke="#3498db" stroke-width="3"/>
                    <path d="M 25 10 L 25 40 M 10 25 L 40 25" stroke="#3498db" stroke-width="3"/>
                    <circle cx="25" cy="25" r="5" fill="#3498db"/>
                </svg>
            </div>
            <div class="header-text">
                <h1>MARGAZ KONTROL SÄ°STEMÄ°</h1>
                <p class="subtitle">Gaz TankÄ± Seviye Ä°zleme ve Alarm Sistemi</p>
            </div>
        </header>

        <!-- BaÄŸlantÄ± Durumu -->
        <div class="connection-status" id="connectionStatus">
            <div class="status-indicator">
                <span class="status-dot" id="statusDot"></span>
                <span id="statusText">BaÄŸlantÄ± kuruluyor...</span>
            </div>
        </div>

        <!-- Ana Ä°Ã§erik AlanÄ± -->
        <div class="main-content">
            <!-- Sol Panel: Tank GÃ¶stergesi -->
            <div class="tank-section">
                <h2>Tank #1 - LPG Deposu</h2>

                <!-- Tank GÃ¶rsel GÃ¶stergesi -->
                <div class="tank-container">
                    <!-- Tank dÄ±ÅŸ Ã§erÃ§evesi -->
                    <div class="tank">
                        <!-- Tank iÃ§indeki sÄ±vÄ± (dinamik olarak dolacak) -->
                        <div class="tank-liquid" id="tankLiquid">
                            <div class="tank-wave"></div>
                        </div>

                        <!-- Tank Ã¼zerindeki seviye yÃ¼zdesi -->
                        <div class="tank-percentage" id="tankPercentage">0%</div>
                    </div>

                    <!-- Tank altÄ±ndaki Ã¶lÃ§ek Ã§izgileri -->
                    <div class="tank-scale">
                        <div class="scale-mark"><span>100%</span></div>
                        <div class="scale-mark"><span>80%</span></div>
                        <div class="scale-mark"><span>60%</span></div>
                        <div class="scale-mark"><span>40%</span></div>
                        <div class="scale-mark"><span>20%</span></div>
                        <div class="scale-mark"><span>0%</span></div>
                    </div>
                </div>

                <!-- EÅŸik GÃ¶stergesi -->
                <div class="threshold-indicator">
                    <div class="threshold-line" id="thresholdLine">
                        <span class="threshold-label">Alarm EÅŸiÄŸi: <strong id="thresholdValue">80%</strong></span>
                    </div>
                </div>
            </div>

            <!-- SaÄŸ Panel: Bilgi ve Durum -->
            <div class="info-section">
                <!-- Sistem Durumu -->
                <div class="info-card status-card" id="statusCard">
                    <h3>Sistem Durumu</h3>
                    <div class="status-badge" id="statusBadge">
                        <span class="badge-icon">âœ“</span>
                        <span id="statusMessage">Normal Ã‡alÄ±ÅŸma</span>
                    </div>
                </div>

                <!-- AnlÄ±k Veriler -->
                <div class="info-card data-card">
                    <h3>AnlÄ±k Veriler</h3>
                    <div class="data-grid">
                        <div class="data-item">
                            <span class="data-label">Tank Seviyesi:</span>
                            <span class="data-value" id="levelValue">--%</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Alarm Durumu:</span>
                            <span class="data-value" id="alarmStatus">KapalÄ±</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Son GÃ¼ncelleme:</span>
                            <span class="data-value" id="lastUpdate">--:--:--</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">EÅŸik DeÄŸeri:</span>
                            <span class="data-value" id="thresholdData">80%</span>
                        </div>
                    </div>
                </div>

                <!-- Alarm MesajÄ± (Sadece alarm aktifken gÃ¶rÃ¼nÃ¼r) -->
                <div class="info-card alarm-card hidden" id="alarmCard">
                    <h3>âš ï¸ ALARM AKTIF!</h3>
                    <p id="alarmMessage">Tank seviyesi kritik eÅŸiÄŸi aÅŸtÄ±!</p>
                    <div class="alarm-animation">
                        <div class="alarm-pulse"></div>
                    </div>
                </div>

                <!-- TAHMÄ°N KARTI (YENÄ°!) -->
                <div class="info-card prediction-card" id="predictionCard">
                    <h3>ğŸ“Š Tahmin Verileri</h3>
                    <div class="prediction-content">
                        <div class="prediction-item">
                            <span class="prediction-label">DeÄŸiÅŸim HÄ±zÄ±:</span>
                            <span class="prediction-value" id="usageRate">-- %/saat</span>
                        </div>
                        <div class="prediction-item" id="emptyPrediction" style="display: none;">
                            <span class="prediction-label">â±ï¸ Tahmini BoÅŸalma:</span>
                            <span class="prediction-value" id="timeToEmpty">--</span>
                        </div>
                        <div class="prediction-item" id="fullPrediction" style="display: none;">
                            <span class="prediction-label">â±ï¸ Tahmini Dolum:</span>
                            <span class="prediction-value" id="timeToFull">--</span>
                        </div>
                        <div class="prediction-note">
                            <small>* Mevcut kullanÄ±m hÄ±zÄ±na gÃ¶re hesaplanmÄ±ÅŸtÄ±r</small>
                        </div>
                    </div>
                </div>

                <!-- GRAFÄ°K KARTI (YENÄ°!) -->
                <div class="info-card chart-card">
                    <h3>ğŸ“ˆ Son 24 Saat GrafiÄŸi</h3>
                    <div class="chart-container">
                        <canvas id="levelChart"></canvas>
                    </div>
                </div>

                <!-- Sistem Bilgileri -->
                <div class="info-card system-card">
                    <h3>Sistem Bilgileri</h3>
                    <div class="system-info">
                        <p><strong>SimÃ¼lasyon Modu:</strong> Aktif</p>
                        <p><strong>GÃ¼ncelleme AralÄ±ÄŸÄ±:</strong> 2 saniye</p>
                        <p><strong>Protokol:</strong> WebSocket</p>
                        <p><strong>BaÄŸlantÄ±:</strong> <span id="wsUrl">ws://localhost:3000</span></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Alt Bilgi -->
        <footer class="footer">
            <p>Â© 2024 Margaz Kontrol Sistemi | Gaz TankÄ± Ä°zleme SimÃ¼lasyonu</p>
            <p class="demo-note">
                <strong>Demo AmaÃ§lÄ± SimÃ¼lasyon:</strong> Bu sistem gerÃ§ek donanÄ±m olmadan,
                yazÄ±lÄ±msal simÃ¼lasyon ile Ã§alÄ±ÅŸmaktadÄ±r. GerÃ§ek uygulamada sensÃ¶r entegrasyonu yapÄ±lacaktÄ±r.
            </p>
        </footer>
    </div>

    <!-- Chart.js KÃ¼tÃ¼phanesi (Grafik iÃ§in) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- JavaScript dosyasÄ± -->
    <script src="script.js"></script>

    <!--
        SUNUM Ä°Ã‡Ä°N AÃ‡IKLAMALAR:

        1. GÃ–RSEL TASARIM:
           - Modern ve profesyonel gÃ¶rÃ¼nÃ¼m
           - Tank gÃ¶rsel olarak dolar/boÅŸalÄ±r (animasyonlu)
           - Renk kodlamasÄ±: YeÅŸil (normal), KÄ±rmÄ±zÄ± (alarm)

        2. GERÃ‡EK ZAMANLI GÃœNCELLEME:
           - WebSocket ile sÃ¼rekli baÄŸlantÄ±
           - Sayfa yenilemeye gerek yok
           - 2 saniyede bir otomatik gÃ¼ncelleme

        3. ALARM SÄ°STEMÄ°:
           - %80 eÅŸiÄŸi aÅŸÄ±ldÄ±ÄŸÄ±nda ekran kÄ±rmÄ±zÄ±ya dÃ¶ner
           - Alarm kartÄ± gÃ¶rÃ¼nÃ¼r olur
           - GÃ¶rsel ve metinsel uyarÄ±lar

        4. RESPONSÄ°VE TASARIM:
           - MasaÃ¼stÃ¼, tablet ve mobil cihazlarda dÃ¼zgÃ¼n gÃ¶rÃ¼nÃ¼r
           - FarklÄ± ekran boyutlarÄ±na uyum saÄŸlar

        5. KULLANICI DOSTU:
           - AnlaÅŸÄ±lÄ±r gÃ¶stergeler
           - Renkli durumu belirten ikonlar
           - TÃ¼rkÃ§e arayÃ¼z
    -->
</body>
</html>
